# Trinitas Parallel Execution Guide
*ä¸¦åˆ—å®Ÿè¡Œæ©Ÿèƒ½ã®å®Œå…¨ã‚¬ã‚¤ãƒ‰*

## ðŸš€ Overview

Trinitasã¯é«˜åº¦ãªä¸¦åˆ—å®Ÿè¡Œæ©Ÿèƒ½ã‚’æä¾›ã—ã€è¤‡æ•°ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’åŒæ™‚ã«å®Ÿè¡Œã—ã¦å‡¦ç†æ™‚é–“ã‚’å¤§å¹…ã«çŸ­ç¸®ã—ã¾ã™ã€‚

## ðŸ“Š ä¸¦åˆ—å®Ÿè¡Œã®ä»•çµ„ã¿

### è‡ªå‹•ä¸¦åˆ—åŒ–
Trinitasã¯ä»¥ä¸‹ã®æ¡ä»¶ã§è‡ªå‹•çš„ã«ä¸¦åˆ—å®Ÿè¡Œã‚’åˆ¤æ–­ã—ã¾ã™ï¼š

1. **è¤‡é›‘åº¦è©•ä¾¡**: ã‚¿ã‚¹ã‚¯ã®è¤‡é›‘åº¦ãŒ3ä»¥ä¸Šï¼ˆ5æ®µéšŽè©•ä¾¡ï¼‰
2. **ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé©åˆæ€§**: 2ã¤ä»¥ä¸Šã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒé©åˆ‡
3. **ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡º**: è¤‡æ•°ã®å°‚é–€é ˜åŸŸã«é–¢é€£ã™ã‚‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æ¤œå‡º

### ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãªå®Ÿè£…
```python
# prepare_parallel_tasks.py ã®å‹•ä½œ
1. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®è¤‡é›‘åº¦ã‚’è‡ªå‹•è©•ä¾¡
2. é©åˆ‡ãªã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’è‡ªå‹•é¸æŠž
3. å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”¨ã«ç‰¹åŒ–ã—ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆ
4. å„ªå…ˆåº¦ã«åŸºã¥ã„ã¦å®Ÿè¡Œé †åºã‚’æ±ºå®š
5. çµæžœã‚’è‡ªå‹•çµ±åˆ
```

## ðŸŽ¯ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•1: è‡ªå‹•ä¸¦åˆ—åŒ–ï¼ˆæŽ¨å¥¨ï¼‰
é€šå¸¸ã®Taskãƒ„ãƒ¼ãƒ«ä½¿ç”¨æ™‚ã«è‡ªå‹•çš„ã«ä¸¦åˆ—åŒ–ãŒåˆ¤æ–­ã•ã‚Œã¾ã™ï¼š
```
è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã‚’ä¾é ¼ã™ã‚‹ã ã‘ã§ã€è‡ªå‹•çš„ã«ä¸¦åˆ—å®Ÿè¡Œã•ã‚Œã¾ã™
```

### æ–¹æ³•2: æ˜Žç¤ºçš„ãªä¸¦åˆ—å®Ÿè¡Œ
`@trinitas-parallel` ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä½¿ç”¨ï¼š
```
@trinitas-parallel ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åŒ…æ‹¬çš„ã«åˆ†æžã—ã¦
```

### æ–¹æ³•3: è¤‡æ•°ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæŒ‡å®š
è¤‡æ•°ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’æ˜Žç¤ºçš„ã«æŒ‡å®šï¼š
```
@springfield-strategist ã¨ @krukai-optimizer ã¨ @vector-auditor ã‚’åŒæ™‚ã«èµ·å‹•ã—ã¦åˆ†æž
```

## ðŸ”§ è¨­å®š

### settings.json
```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/trinitas/hooks/python/prepare_parallel_tasks.py",
            "environment": {
              "TRINITAS_PARALLEL_ENABLED": "true"
            }
          }
        ]
      }
    ]
  }
}
```

### ç’°å¢ƒå¤‰æ•°
- `TRINITAS_PARALLEL_ENABLED`: "true"ã§ä¸¦åˆ—å®Ÿè¡Œã‚’æœ‰åŠ¹åŒ–ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: trueï¼‰
- `TRINITAS_SESSION_ID`: ã‚»ãƒƒã‚·ãƒ§ãƒ³IDãŒè‡ªå‹•è¨­å®šã•ã‚Œã‚‹
- `TRINITAS_PARALLEL_COUNT`: ä¸¦åˆ—å®Ÿè¡Œã™ã‚‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ•°

## ðŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹

### æœŸå¾…ã•ã‚Œã‚‹é«˜é€ŸåŒ–
- 2ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä¸¦åˆ—: ç´„1.4å€é«˜é€Ÿ
- 3ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä¸¦åˆ—: ç´„2.1å€é«˜é€Ÿ
- 4ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä»¥ä¸Š: ç´„2.5å€é«˜é€Ÿï¼ˆä¸Šé™ï¼‰

### æœ€é©ãªä½¿ç”¨å ´é¢
- âœ… è¤‡é›‘ãªåˆ†æžã‚¿ã‚¹ã‚¯
- âœ… å¤šè§’çš„ãªè¦–ç‚¹ãŒå¿…è¦ãªè¨­è¨ˆ
- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨æ€§èƒ½ã®åŒæ™‚è©•ä¾¡
- âœ… åŒ…æ‹¬çš„ãªã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼

### éžæŽ¨å¥¨ãªå ´é¢
- âŒ å˜ç´”ãªå˜ä¸€ã‚¿ã‚¹ã‚¯
- âŒ é †åºä¾å­˜æ€§ãŒå¼·ã„ã‚¿ã‚¹ã‚¯
- âŒ ãƒªã‚½ãƒ¼ã‚¹é›†ç´„çš„ãªå‡¦ç†

## ðŸŽ¨ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å½¹å‰²

### Core Trinity
1. **Springfield-Strategist** (å„ªå…ˆåº¦: 3)
   - æˆ¦ç•¥ç«‹æ¡ˆã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
   - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: plan, design, strategy, architecture

2. **Krukai-Optimizer** (å„ªå…ˆåº¦: 2)
   - æ€§èƒ½æœ€é©åŒ–ã€ã‚³ãƒ¼ãƒ‰å“è³ª
   - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: optimize, performance, refactor, efficiency

3. **Vector-Auditor** (å„ªå…ˆåº¦: 1)
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ãƒªã‚¹ã‚¯è©•ä¾¡
   - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: security, audit, risk, vulnerability

### Support Agents
4. **Trinitas-Quality** (å„ªå…ˆåº¦: 4)
   - ãƒ†ã‚¹ãƒˆã€å“è³ªä¿è¨¼
   - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: test, qa, quality, validate

5. **Trinitas-Workflow** (å„ªå…ˆåº¦: 5)
   - ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€è‡ªå‹•åŒ–
   - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: workflow, automate, pipeline, ci/cd

6. **Trinitas-Coordinator** (å„ªå…ˆåº¦: 0)
   - çµæžœçµ±åˆï¼ˆå¸¸ã«æœ€å¾Œã«å®Ÿè¡Œï¼‰

## ðŸ” ãƒ‡ãƒãƒƒã‚°

### ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```bash
./examples/test_parallel_execution.sh
```

### ãƒ­ã‚°ç¢ºèª
```bash
# ã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’ç¢ºèª
echo $TRINITAS_SESSION_ID

# ä¸¦åˆ—å®Ÿè¡Œæ•°ã‚’ç¢ºèª
echo $TRINITAS_PARALLEL_COUNT
```

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ä¸¦åˆ—å®Ÿè¡Œã•ã‚Œãªã„å ´åˆ
1. ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª: `TRINITAS_PARALLEL_ENABLED=true`
2. Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æ¨©é™: `chmod +x ~/.claude/trinitas/hooks/python/prepare_parallel_tasks.py`
3. settings.jsonã®è¨­å®šã‚’ç¢ºèª

#### ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å ´åˆ
1. Pythonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªï¼ˆ3.8ä»¥ä¸ŠæŽ¨å¥¨ï¼‰
2. ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®ç¢ºèª
3. ä¾å­˜é–¢ä¿‚ã®ç¢ºèª

## ðŸ“ å®Ÿè£…ä¾‹

### è¤‡é›‘ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ†æž
```python
# è‡ªå‹•çš„ã«ä»¥ä¸‹ã®ã‚ˆã†ã«ä¸¦åˆ—å®Ÿè¡Œã•ã‚Œã‚‹
tasks = [
    {
        'agent': 'springfield-strategist',
        'focus': 'ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨é•·æœŸæˆ¦ç•¥'
    },
    {
        'agent': 'krukai-optimizer',
        'focus': 'æ€§èƒ½ã¨ã‚³ãƒ¼ãƒ‰å“è³ª'
    },
    {
        'agent': 'vector-auditor',
        'focus': 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒªã‚¹ã‚¯'
    },
    {
        'agent': 'trinitas-coordinator',
        'focus': 'çµæžœã®çµ±åˆã¨ç·åˆåˆ¤æ–­'
    }
]
```

## ðŸŒŸ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã§æ´»ç”¨**: å˜ç´”ãªã‚¿ã‚¹ã‚¯ã§ã¯ä¸¦åˆ—åŒ–ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒç™ºç”Ÿ
2. **æ˜Žç¢ºãªæŒ‡ç¤º**: å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç†è§£ã—ã‚„ã™ã„æ˜Žç¢ºãªæŒ‡ç¤ºã‚’æä¾›
3. **çµæžœã®ç¢ºèª**: trinitas-coordinatorã®çµ±åˆçµæžœã‚’é‡è¦–
4. **æ®µéšŽçš„ãªåˆ©ç”¨**: ã¾ãšè‡ªå‹•ä¸¦åˆ—åŒ–ã‚’è©¦ã—ã€å¿…è¦ã«å¿œã˜ã¦æ˜Žç¤ºçš„æŒ‡å®š

## ðŸš¦ å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

```mermaid
graph TD
    A[User Request] --> B{Complexity Check}
    B -->|High| C[Auto Parallelize]
    B -->|Low| D[Single Agent]
    C --> E[Springfield]
    C --> F[Krukai]
    C --> G[Vector]
    E --> H[Coordinator]
    F --> H
    G --> H
    H --> I[Integrated Result]
    D --> I
```

## ðŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Agent Development Guide](./ADDING_NEW_AGENTS_GUIDE.md)
- [Hooks System Documentation](../hooks/README.md)
- [Trinity Architecture](./TRINITY-ARCHITECTURE.md)

---

*Trinitas Parallel Execution System v3.0*
*Efficiency through parallel intelligence*