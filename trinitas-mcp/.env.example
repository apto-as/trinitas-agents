# Trinitas v3.5 Memory System Configuration
# Copy to .env and adjust values as needed

# Memory Backend Configuration
MEMORY_BACKEND=hybrid

# Redis Configuration
REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0                  # Default DB (overridden by persona isolation)
REDIS_TTL_WORKING=3600      # 1 hour for working memory
REDIS_TTL_EPISODIC=86400    # 24 hours for episodic memory
REDIS_TTL_CACHE=300         # 5 minutes for cache

# Security Configuration (New)
PERSONA_ISOLATION_ENABLED=true     # Enable persona-specific databases
ACCESS_CONTROL_ENABLED=true        # Enable authentication/authorization
SECURITY_TOKEN_TTL=86400          # 24 hours for auth tokens
SECURITY_RATE_LIMIT=1000          # Operations per minute per persona

# ChromaDB Configuration
CHROMADB_ENABLED=true
CHROMADB_PATH=/tmp/trinitas_chromadb
CHROMADB_EMBEDDING_MODEL=all-MiniLM-L6-v2
CHROMADB_COLLECTION_PREFIX=trinitas_

# SQLite Configuration (Always enabled as fallback)
SQLITE_PATH=/tmp/trinitas_sqlite
SQLITE_ARCHIVE_DAYS=7

# Hybrid Routing Configuration
USE_REDIS_FOR_WORKING=true
USE_REDIS_FOR_EPISODIC=true
USE_CHROMADB_FOR_SEMANTIC=true
USE_CHROMADB_FOR_PROCEDURAL=true

# Performance Configuration
MEMORY_CACHE_SIZE_MB=100
BATCH_SIZE=100
ASYNC_WRITES=true
CONNECTION_POOL_SIZE=20

# Fallback Configuration
AUTO_FALLBACK=true
FALLBACK_RETRY_DELAY=1000   # milliseconds
HEALTH_CHECK_INTERVAL=30    # seconds

# MCP Integration
MCP_ENGINE_URL=http://localhost:8000
MCP_ENGINE_MODE=hybrid
TRINITAS_MODE=auto

# Local LLM (Optional)
LOCAL_LLM_ENABLED=false
LOCAL_LLM_ENDPOINT=http://192.168.99.102:1234/v1/

# Logging
LOG_LEVEL=INFO
LOG_FILE=/tmp/trinitas_memory.log